<div>
	<div class="col-md-6">
		<div class="panel panel-default">
			<div class="panel-heading">Source Components</div>
			<div class="panel-body">
				<form>
					<div class="form-group">
						<div class="row">
							<div class="col-md-4">
								<div id="tree-root" class="angular-ui-tree">
									<ol class="angular-ui-tree-nodes">
										<li ng-repeat="node in ctrl.treeData" ng-include="'folder_template.html'" class="angular-ui-tree-node"></li>
									</ol>
								</div>
							</div>
							<div class="col-md-8">
								<div class="table">
									<table class="table table-striped table-condensed">
										<thead>
											<tr>
												<th class="col-md-4" ng-click="sortField='name'; sortReverse=!sortReverse">Title
													<span ng-show="sortField == 'name'"
																class="glyphicon glyphicon-sm"
																ng-class="{'glyphicon-chevron-down':!sortReverse, 'glyphicon-chevron-up':sortReverse}"></span>
												</th>
											</tr>
										</thead>
										<tbody>
											<tr class="hover-box"
													ng-repeat="item in ctrl.itemSummaryList.contents | orderBy:sortField:sortReverse"
													data-drag="true"
													data-jqyoui-options="{revert: 'invalid', helper: 'clone'}"
													jqyoui-draggable="{animate:true}"
													id="{{item}}">
												<td style="cursor:move"><span class="glyphicon glyphicon-right-pad {{item.type | itemTypeIdToIcon}}"></span>{{item.name}}</td>
											</tr>
										</tbody>
									</table>
								</div>
							</div>
						</div>
					</div>
				</form>
			</div>
		</div>
	</div>

	<div class="col-md-6">
		<div class="panel panel-default">
			<div class="panel-heading">Report Structure</div>
			<div class="panel-body">
				<form>
					<div class="form-group">
						<div class="row">
							<div class="col-md-12">
								<div id="tree-root" class="angular-ui-tree">
									<ol class="angular-ui-tree-nodes">
										<li ng-init="node = ctrl.reportData" ng-include="'report_template.html'" class="angular-ui-tree-node"></li>
									</ol>
								</div>
							</div>
						</div>
					</div>
				</form>
			</div>
		</div>
	</div>

	<script type="text/ng-template" id="folder_template.html">
		<div ui-tree-handle class="tree-node tree-node-content">
			<span class="hover-box show-child-on-hover folder-item"
						ng-class="{'selection': node.isSelected}">
				<span	ng-if="!node.hasChildren" data-nodrag class="glyphicon glyphicon-blank text-muted"></span>
				<span ng-if="node.hasChildren" data-nodrag	class="glyphicon glyphicon-sm text-muted"
							ng-class="{'glyphicon-chevron-right': !node.isExpanded,'glyphicon-chevron-down': node.isExpanded}"
							ng-click="ctrl.toggleExpansion(node)"></span>
				<span	ng-click="ctrl.selectNode(node)" style="cursor:pointer">
					<span	class="glyphicon glyphicon-folder-open glyphicon-right-pad text-primary"></span>
					<span>{{node.folderName}}</span>
					<span class="glyphicon glyphicon-sm glyphicon-refresh glyphicon-refresh-animate" ng-show="node.loading"></span>
				</span>
			</span>
		</div>
		<ol ng-model="node.nodes" ng-show="node.isExpanded" class="angular-ui-tree-nodes">
			<li ng-repeat="node in node.nodes" ng-include="'folder_template.html'" class="angular-ui-tree-node">
			</li>
		</ol>
	</script>

	<script type="text/ng-template" id="report_template.html">
		<div ui-tree-handle
				 class="tree-node tree-node-content hover-box show-child-on-hover"
				 data-drop="true"
				 jqyoui-droppable="{onDrop: 'ctrl.onDrop'}"
				 data-jqyoui-options="{hoverClass: 'dragtarget-over'}"
				 id="{{node.uuid}}">
				<span><span class="glyphicon glyphicon-right-pad {{node.type | itemTypeIdToIcon}}"></span>{{node.name}}</span>
				<span uib-dropdown>
					<button class="btn btn-xs btn-default child-to-show pull-right" uib-dropdown-toggle>...</button>
					<ul uib-dropdown-menu>
						<li><a href="#">Delete</a></li>
					</ul>
			</span>
		</div>
		<ol ng-model="node.nodes" class="angular-ui-tree-nodes">
			<li ng-repeat="node in node.nodes" ng-include="'report_template.html'" class="angular-ui-tree-node">
			</li>
		</ol>
	</script>
</div>