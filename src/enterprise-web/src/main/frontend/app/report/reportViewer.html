<style>
    .form-group {
        margin-bottom: 10px;
    }
</style>
<div class="modal-header">
    <h4 class="modal-title">Report Results Viewer</h4>
    <button type="button" class="close" (click)="cancel()" aria-hidden="true">&times;</button>
</div>
<div class="modal-body">
    <form role="form">
        <table>
            <tr>
                <td>
                    <div style="vertical-align: top;display: inline-block;">
                        <div class='row' style="margin-left:10px; height:auto; overflow-y:scroll; max-height: 300px;">
                            <table class="table table-striped table-sm">
                                <tr style="border: solid thin silver">
                                    <th style="width:200px;padding: 5px">Report Run History</th>
                                    <th style="width:400px;padding: 5px">Cohort Name</th>
                                </tr>
                                <tr *ngFor="let result of allReportResults">
                                    <td style="padding: 5px;cursor:pointer;color:blue;border: solid thin silver"><a (click)="getReportResults(result[0],result[1])">{{result[1] | date:'dd-MMM-yyyy HH:mm:ss'}}</a></td>
                                    <td style="padding: 5px;border: solid thin silver">{{getCohortName(result[2])}}</td>
                                </tr>
                            </table>
                        </div>
                    </div>

                </td>
                <td style="vertical-align: top; padding-left:50px">
                    <div class='row'>
                        <div class="col-xs-12">
                            <div class="form-group">
                                <br/>
                                <b>Report Name:</b>
                                <p>{{ item.name }}</p>
                                <br/>
                                <b>Report Description:</b>
                                <p>{{ item.description }}</p>
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </table>
        <div class="row">
            <div class="form-group col-md-12">
                <label class="control-label">Report Results</label>
                <div class="scroll-box-500 form-control">
                    <table border=1 frame=void rules=rows  class="table table-striped table-condensed">
                        <tr>
                            <th style="width: 400px">Pseudo ID</th>
                            <th style="width: 250px">Gender</th>
                            <th style="width: 200px">Age</th>
                            <th style="width: 200px">Postcode Prefix</th>
                            <th style="width: 200px">Date Of Death</th>
                            <th style="width: 400px">Organisation</th>
                            <th style="width: 250px">Label</th>
                            <th style="width: 200px">Original Term</th>
                            <th style="width: 200px">Date</th>
                            <th style="width: 200px">Value</th>
                            <th style="width: 200px">Units</th>
                            <th style="width: 200px">Snomed Concept ID</th>
                            <th style="width: 200px">Original Code</th>

                        </tr>
                        <tr style="height:40px" *ngFor="let row of reportRow">
                            <td style="color:blue;font-size:12px;cursor:pointer" (click)="displayPatient(row.pseudoId)">
                                {{ row.pseudoId }}
                            </td>
                            <td style="color:black;font-size:12px">
                                {{ getSex(row.patientGenderId) }}
                            </td>
                            <td style="color:black;font-size:12px">
                                {{ getAge(row.ageYears, row.ageMonths, row.ageWeeks) }}
                            </td>
                            <td style="color:black;font-size:12px">
                                {{ row.postcodePrefix }}
                            </td>
                            <td style="color:black;font-size:12px">
                                {{ row.dateOfDeath }}
                            </td>
                            <td style="color:black;font-size:12px">
                                {{ getOrganisationName(row.organisationId) }}
                            </td>
                            <td style="color:black;font-size:12px">
                                {{ row.label }}
                            </td>
                            <td style="color:black;font-size:12px">
                                {{ row.originalTerm }}
                            </td>
                            <td style="color:black;font-size:12px">
                                {{ row.clinicalEffectiveDate }}
                            </td>
                            <td style="color:black;font-size:12px">
                                {{ row.value }}
                            </td>
                            <td style="color:black;font-size:12px">
                                {{ row.units }}
                            </td>
                            <td style="color:black;font-size:12px">
                                {{ row.snomedConceptId }}
                            </td>
                            <td style="color:black;font-size:12px">
                                {{ row.originalCode }}
                            </td>

                        </tr>
                    </table>
                </div>
            </div>
        </div>

    </form>

</div>
<div class="modal-footer">
    <button type="button" class="btn btn-default"
            (click)="cancel()">Close</button>
</div>
