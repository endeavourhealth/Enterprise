<div class="module">
	<div class="container-fluid">
		<div class="module-heading">
			Report
			<div class="pull-right">
				<button type="button" class="btn btn-sm btn-success" (click)="save(false)">Save</button>
				<button type="button" class="btn btn-sm btn-warning" (click)="save(true)">Save & Close</button>
				<button type="button" class="btn btn-sm btn-danger" (click)="close()">Cancel</button>
			</div>
		</div>
		<div class="module-body">
			<form>
				<div class="row">
					<div class="form-group col-md-6">
						<label for="name">Name</label>
						<input type="text" class="form-control" id="name" [(ngModel)]="libraryItem.name" name="name">
					</div>
				</div>
				<div class="row">
					<div class="form-group col-md-12">
						<label for="description">Description</label>
						<textarea class="form-control" id="description" [(ngModel)]="libraryItem.description" name="description"></textarea>
					</div>
				</div>
				<div class="row">
					<div class="form-group col-md-8">
						<label class="control-label">Report content</label> <button type="button" class="btn btn-xs btn-success" (click)="addCohortFeature()">Add cohort feature</button>
						<div class="table scroll-box-300 bordered-box">
							<table class="table table-striped table-condensed">
							<thead>
								<tr>
									<th class="col-md-5">Cohort Feature</th>
									<th class="col-md-5">Field Name</th>
									<th class="col-md-2"></th>
								</tr>
							</thead>
							<tbody>
								<tr class="hover-box show-child-on-hover" *ngFor="let item of getCohortFeatures()" [ngClass]="{'selection': item == selectedCohortFeature}" (click)="selectedCohortFeature = item">
									<td>{{getCohortFeatureName(item.cohortFeatureUuid)}}</td>
									<td>{{item.fieldName}}</td>
									<td>
										<span class="child-to-show pull-right">
											<button type="button" class="btn btn-xs btn-success" (click)="moveUp(item)"><i class="fa fa-arrow-up"></i></button>
											<button type="button" class="btn btn-xs btn-success" (click)="moveDown(item)"><i class="fa fa-arrow-down"></i></button>
											<button type="button" class="btn btn-xs btn-danger" (click)="remove(item)"><i class="fa fa-times"></i></button>
										</span>
									</td>
								</tr>
							</tbody>
						</table>
						</div>
					</div>
					<div class="form-group col-md-4" *ngIf="selectedCohortFeature != null">
						<div class="row">
							<div class="form-group col-md-12">
								<label for="cohortFeature">Cohort feature</label>
								<div class="input-group">
									<input type="text" class="form-control" id="cohortFeature" name="cohortFeature" readonly [ngModel]="getCohortFeatureName(selectedCohortFeature.cohortFeatureUuid)">
									<span class="input-group-addon" (click)="pickCohortFeature()"><i class="fa fa-search" id="pickCohortFeature" aria-hidden="true"></i></span>
								</div>
							</div>
						</div>
						<div class="row">
						<div class="form-group col-md-12">
							<label for="fieldName">Field name</label>
							<input type="text" class="form-control" id="fieldName" name="fieldName" [(ngModel)]="selectedCohortFeature.fieldName">
						</div>
					</div>
					</div>
				</div>
			</form>
		</div>
	</div>
</div>
